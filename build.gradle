plugins {
  id 'nebula.nebula-plugin' version '2.2.0'
  id 'idea'
}

description 'Release opinions on top of gradle-git'

contacts {
    'rob.spieldenner@gmail.com' {
        moniker 'Rob Spieldenner'
        github 'rspieldenner'
    }
}

dependencies {
    compile "com.netflix.nebula:nebula-core:${pluginGradleVersion}.+"
    compile 'org.ajoberstar:gradle-git:1.1.0'
    testCompile("com.netflix.nebula:nebula-test:${pluginGradleVersion}.+") {
        exclude group: 'org.codehaus.groovy', module: 'groovy-all'
    }
}

tasks.withType(Test) {
    minHeapSize = '128m'
    maxHeapSize = '512m'
    jvmArgs '-XX:MaxPermSize=256m'
    maxParallelForks = Runtime.runtime.availableProcessors() / 2 // Avoid saturating all of the cores
}
